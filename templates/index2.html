<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css')}}">
    <title>Dewfree Analytics</title>
</head>

<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <a href="#" class="logo">
        <i class='bx bx-stats'></i>
        <div class="logo-name"><span>Dewfree</span>AI</div>
        </a>
        <ul class="side-menu">
            <li class="active"><a href="#"><i class='bx bxs-dashboard'></i>Dashboard</a></li>
<!--             <li><a href="#"><i class='bx bx-store-alt'></i>Shop</a></li>
            <li><a href="#"><i class='bx bx-analyse'></i>Analytics</a></li>
            <li><a href="#"><i class='bx bx-message-square-dots'></i>Tickets</a></li>
            <li><a href="#"><i class='bx bx-group'></i>Users</a></li> -->
            <li><a href="#"><i class='bx bx-cog'></i>Settings</a></li>
        </ul>
        <ul class="side-menu">
            <li>
                <a href="/logout" class="logout">
                    <i class='bx bx-log-out-circle'></i>
                    Logout
                </a>
            </li>
        </ul>
    </div>
    <!-- End of Sidebar -->

    <!-- Main Content -->
    <div class="content">
        <!-- Navbar -->
        <nav>
            <i class='bx bx-menu'></i>
             <form action="#">
<!--                <div class="form-input">
                    <input type="search" placeholder="Search...">
                    <button class="search-btn" type="submit"><i class='bx bx-search'></i></button>
                </div> -->
            </form> 
            <input type="checkbox" id="theme-toggle" hidden>
            <label for="theme-toggle" class="theme-toggle"></label>
            <a href="#" class="notif">
                <i class='bx bx-bell'></i>
                <span class="count">0</span>
            </a>
            <a href="#" class="profile">
                <img src="static/images/Dewfree Logo Only.png">
            </a>
        </nav>

        <!-- End of Navbar -->

        <main>
            <div class="header">
                <div class="left">
                    <h1>Dashboard</h1>
                    <ul class="breadcrumb">
                        <li><a href="#">
                                Dashboard
                            </a></li>
                        /
                        <li><a href="#" class="active">Shop</a></li>
                    </ul>
                </div>
                <a href="#" class="report">
                    <i class='bx bx-cloud-download'></i>
                    <span>Download CSV</span>
                </a>
            </div>

            <!-- Insights -->
            <ul class="insights">
                <li>
                    <i class='bx bx-calendar-check'></i>
                    <span class="info">
                        <h3>
                            {{ account_balance }}
                        </h3>
                        <p>Main Account Balance</p>
                    </span>
                </li>
                <li><i class='bx bx-show-alt'></i>
                    <span class="info">
                        <h3>
                            3,944
                        </h3>
                        <p>Site Visit</p>
                    </span>
                </li>
                <li><i class='bx bx-line-chart'></i>
                    <span class="info">
                        <h3>
                            14,721
                        </h3>
                        <p>Searches</p>
                    </span>
                </li>
                <li><i class='bx bx-dollar-circle'></i>
                    <span class="info">
                        <h3>
                            $6,742
                        </h3>
                        <p>Total Sales</p>
                    </span>
                </li>
            </ul>
            <!-- End of Insights -->

            <div class="bottom-data">
                <div class="orders">
<!--                     <div class="header">
                        <i class='bx bx-receipt'></i>
                        <h3>Chat with Dewy</h3>
                    </div> -->
                     <div class = "chat">
                        <script>
                            var username = "{{ username }}";
                            var userid = "{{ email }}";
                        </script>
                        
                            <!-- add elements here, e.g. -->
                            <flowise-fullchatbot></flowise-fullchatbot>
                            <script type="module">
                            import Chatbot from "https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js"
                            Chatbot.initFull({
                                chatflowid: "dc5f49ac-f33b-4493-87a8-f3d51de64c53",
                                apiHost: "http://192.168.1.43:3000",
                                chatflowConfig: {
                                "systemMessage": "You are a useful virtual assistant speaking to " + username + " You are here to assist " + username + " to answer questions about their finances. Use the tools available to you to answer questions. If you do not know the answer then rather apologise and say you do not know",
                                vars: {
                                    usermail: userid
                                    }
                                        },
                                theme: {
                                    button: {
                                        backgroundColor: '#3B81F6',
                                        right: 20,
                                        bottom: 20,
                                        size: 'medium',
                                        iconColor: 'white',
                                        customIconSrc: 'https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg',
                                    },
                                    chatWindow: {
                                        showTitle: true, // show/hide the title bar
                                        title: 'Chat with Dewy',
                                        titleAvatarSrc: 'https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg',
                                        welcomeMessage: 'Hello! ' + username + ' ask anything about your finances',
                                        errorMessage: 'This is custom error message',
                                        backgroundColor: '#ffffff',
                                        height: 600,
                                        width: 700,
                                        fontSize: 16,
                                        poweredByTextColor: '#303235',
                                        botMessage: {
                                        backgroundColor: '#f7f8ff',
                                        textColor: '#303235',
                                        showAvatar: true,
                                        avatarSrc: 'https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/parroticon.png',
                                        },
                                        userMessage: {
                                        backgroundColor: '#3B81F6',
                                        textColor: '#ffffff',
                                        showAvatar: true,
                                        avatarSrc: 'https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/usericon.png',
                                        },
                                        textInput: {
                                        placeholder: 'Type your question',
                                        backgroundColor: '#ffffff',
                                        textColor: '#303235',
                                        sendButtonColor: '#3B81F6',
                                        },
                                    },
                                    },
                            })
                            </script>
                    </div>
                </div>
                

                <!-- Reminders -->
                <div class="reminders">
                    <div class="header">
                        <i class='bx bx-note'></i>
                        <h3>Memories</h3>
                        <i class='bx bx-filter'></i>
                        <i class='bx bx-plus'></i>
                    </div>
                    <ul class="task-list">
                        <li class="completed">
                            <div class="task-title">
                                <i class='bx bx-check-circle'></i>
                                <p>Start Our Meeting</p>
                            </div>
                            <i class='bx bx-dots-vertical-rounded'></i>
                        </li>
                        <li class="completed">
                            <div class="task-title">
                                <i class='bx bx-check-circle'></i>
                                <p>Analyse Our Site</p>
                            </div>
                            <i class='bx bx-dots-vertical-rounded'></i>
                        </li>
                        <li class="not-completed">
                            <div class="task-title">
                                <i class='bx bx-x-circle'></i>
                                <p>Play Footbal</p>
                            </div>
                            <i class='bx bx-dots-vertical-rounded'></i>
                        </li>
                    </ul>
                </div>

                <!-- End of Reminders-->

            </div>

        </main>

    </div>

    <script src="static/index.js"></script>
</body>

</html>